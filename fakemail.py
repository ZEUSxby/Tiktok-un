
# Encode File BY : ChatGPT
import sys, os, base64

PYTHON_VERSION = ".".join(sys.version.split()[0].split(".")[:-1])

if PYTHON_VERSION != '3.13':
    print("[!] Python sürümü uyumsuz")
    exit(0)

payload = 'aW1wb3J0IHJlcXVlc3RzLCByYW5kb20sIHN0cmluZywganNvbiwgb3MKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IHRlbGVib3QKZnJvbSB0ZWxlYm90IGltcG9ydCB0eXBlcwoKVE9LRU4gPSAiNzIyMjE0MTMwNzpBQUZXUWI5aTF6LXpybTJOelNQLWY4S1FxVnN6MHAzSFBhWSIgICMgVGVsZWdyYW0gYm90IHRva2VuaQpib3QgPSB0ZWxlYm90LlRlbGVCb3QoVE9LRU4pCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IHRpbWUKCktBTkFMX1VTRVJOQU1FID0gIkBCeXpldXN4VG9vbG1haW4iICAjIEthbmFsIGt1bGxhbsSxY8SxIGFkxLEgKEAgaWxlKQpLQU5BTF9MSU5LID0gImh0dHBzOi8vdC5tZS9CeXpldXN4VG9vbG1haW4iICAjIEthbmFsxLFuIGRpcmVrdCBsaW5raQoKZGVmIGt1bGxhbmljaV9rb250cm9sKGNoYXRfaWQpOgogICAgIiIiS3VsbGFuxLFjxLFuxLFuIGthbmFsYSDDvHllIG9sdXAgb2xtYWTEscSfxLFuxLEga29udHJvbCBlZGVyLiBUcnVlL0ZhbHNlIGTDtm5lci4iIiIKICAgIHRyeToKICAgICAgICBtZW1iZXIgPSBib3QuZ2V0X2NoYXRfbWVtYmVyKGNoYXRfaWQ9S0FOQUxfVVNFUk5BTUUsIHVzZXJfaWQ9Y2hhdF9pZCkKICAgICAgICByZXR1cm4gbWVtYmVyLnN0YXR1cyBpbiBbIm1lbWJlciIsICJhZG1pbmlzdHJhdG9yIiwgImNyZWF0b3IiXQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICByZXR1cm4gRmFsc2UKCkBib3QubWVzc2FnZV9oYW5kbGVyKGNvbW1hbmRzPVsnc3RhcnQnXSkKZGVmIHN0YXJ0KG1lc3NhZ2UpOgogICAgY2hhdF9pZCA9IG1lc3NhZ2UuY2hhdC5pZAogICAgYm90X21lc3NhZ2UgPSBib3Quc2VuZF9tZXNzYWdlKGNoYXRfaWQsICLij7MgS2FuYWxhIGthdMSxbMSxbSBrb250cm9sIGVkaWxpeW9yLi4uIikKCiAgICBkZWYga29udHJvbF92ZV9ndW5jZWxsZSgpOgogICAgICAgIHRpbWUuc2xlZXAoMikgICMgMiBzYW5peWUgYmVrbGUKICAgICAgICBpZiBrdWxsYW5pY2lfa29udHJvbChjaGF0X2lkKToKICAgICAgICAgICAgY2hhdF9pZF9zdHIgPSBzdHIoY2hhdF9pZCkKICAgICAgICAgICAgaWYgY2hhdF9pZF9zdHIgbm90IGluIHVzZXJfZGF0YToKICAgICAgICAgICAgICAgIHVzZXJfZGF0YVtjaGF0X2lkX3N0cl0gPSBbXQogICAgICAgICAgICBib3QuZWRpdF9tZXNzYWdlX3RleHQoCiAgICAgICAgICAgICAgICAi4pyFIEthbmFsYSDDvHllc2luaXouIE1lbsO8ZGVuIHNlw6dpbSB5YXBhYmlsaXJzaW5pejoiLAogICAgICAgICAgICAgICAgY2hhdF9pZD1jaGF0X2lkLAogICAgICAgICAgICAgICAgbWVzc2FnZV9pZD1ib3RfbWVzc2FnZS5tZXNzYWdlX2lkLAogICAgICAgICAgICAgICAgcmVwbHlfbWFya3VwPW1haW5fbWVudSgpCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBib3QuZWRpdF9tZXNzYWdlX3RleHQoCiAgICAgICAgICAgICAgICBmIuKdjCBCb3R1IGt1bGxhbmFiaWxtZWsgacOnaW4gw7ZuY2Uga2FuYWxhIGthdMSxbG1hbMSxc8SxbsSxei5cbuKeoe+4jyB7S0FOQUxfTElOS30iLAogICAgICAgICAgICAgICAgY2hhdF9pZD1jaGF0X2lkLAogICAgICAgICAgICAgICAgbWVzc2FnZV9pZD1ib3RfbWVzc2FnZS5tZXNzYWdlX2lkCiAgICAgICAgICAgICkKCiAgICB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1rb250cm9sX3ZlX2d1bmNlbGxlKS5zdGFydCgpCgoKVVNFUl9GSUxFID0gInVzZXJfZGF0YS5qc29uIgpMT0dfRklMRSA9ICJib3QubG9nIgoKIyBSQU3igJlkZSB0dXR1bGFuIHZlcmlsZXIKdXNlcl9kYXRhID0ge30gICAgICAgIyBjaGF0X2lkIC0+IFsge2VtYWlsLCBwYXNzd29yZCwgdG9rZW4sIHNlbnRfaWRzfSwgLi4uIF0Kc2VsZWN0ZWRfbWFpbCA9IHt9ICAgIyBjaGF0X2lkIC0+IGluZGV4CmF3YWl0aW5nX2lucHV0ID0ge30gICMgY2hhdF9pZCAtPiBUcnVlIChrZW5kaSBtYWlsIGdpcmnFn2kgYmVrbGVuaXlvcikKCiMgLS0tLS0tLS0tLS0tLS0tLSBMT0cgLS0tLS0tLS0tLS0tLS0tLQpkZWYgd3JpdGVfbG9nKHVzZXJfaWQsIGFjdGlvbiwgbWFpbD1Ob25lLCBtZXNzYWdlX2NvdW50PU5vbmUpOgogICAgbm93ID0gZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoIiVZLSVtLSVkICVIOiVNOiVTIikKICAgIGxpbmUgPSBmIlt7bm93fV0ge3VzZXJfaWR9IHwge2FjdGlvbn0iCiAgICBpZiBtYWlsOgogICAgICAgIGxpbmUgKz0gZiIgfCB7bWFpbH0iCiAgICBpZiBtZXNzYWdlX2NvdW50IGlzIG5vdCBOb25lOgogICAgICAgIGxpbmUgKz0gZiIgfCB7bWVzc2FnZV9jb3VudH0gbWVzYWoiCiAgICB3aXRoIG9wZW4oTE9HX0ZJTEUsICJhIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICBmLndyaXRlKGxpbmUgKyAiXG4iKQoKIyAtLS0tLS0tLS0tLS0tLS0tIEpTT04gS0FZSVQgLS0tLS0tLS0tLS0tLS0tLQpkZWYgc2F2ZV91c2VyX2RhdGEoKToKICAgIGRhdGEgPSB7InVzZXJfZGF0YSI6IHVzZXJfZGF0YSwgInNlbGVjdGVkX21haWwiOiBzZWxlY3RlZF9tYWlsfQogICAgd2l0aCBvcGVuKFVTRVJfRklMRSwgInciLCBlbmNvZGluZz0idXRmLTgiKSBhcyBmOgogICAgICAgIGpzb24uZHVtcChkYXRhLCBmLCBpbmRlbnQ9NCkKCmRlZiBsb2FkX3VzZXJfZGF0YSgpOgogICAgZ2xvYmFsIHVzZXJfZGF0YSwgc2VsZWN0ZWRfbWFpbAogICAgaWYgb3MucGF0aC5leGlzdHMoVVNFUl9GSUxFKToKICAgICAgICB3aXRoIG9wZW4oVVNFUl9GSUxFLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICAgICAgICAgIGRhdGEgPSBqc29uLmxvYWQoZikKICAgICAgICAgICAgdXNlcl9kYXRhID0gZGF0YS5nZXQoInVzZXJfZGF0YSIsIHt9KQogICAgICAgICAgICBzZWxlY3RlZF9tYWlsID0gZGF0YS5nZXQoInNlbGVjdGVkX21haWwiLCB7fSkKCiMgLS0tLS0tLS0tLS0tLS0tLSBNQUlMIEZPTktTxLBZT05MQVJJIC0tLS0tLS0tLS0tLS0tLS0KZGVmIHJhbmRvbV9zdHJpbmcobGVuZ3RoPTgpOgogICAgcmV0dXJuICcnLmpvaW4ocmFuZG9tLmNob2ljZXMoc3RyaW5nLmFzY2lpX2xvd2VyY2FzZSArIHN0cmluZy5kaWdpdHMsIGs9bGVuZ3RoKSkKCmRlZiBjcmVhdGVfdGVtcF9lbWFpbChsb2NhbD1Ob25lKToKICAgIHRyeToKICAgICAgICBkb21haW5zID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2FwaS5tYWlsLnRtL2RvbWFpbnMiLCB0aW1lb3V0PTEwKS5qc29uKClbImh5ZHJhOm1lbWJlciJdCiAgICAgICAgZG9tYWluID0gZG9tYWluc1swXVsiZG9tYWluIl0KICAgICAgICBpZiBsb2NhbCBpcyBOb25lOgogICAgICAgICAgICBsb2NhbCA9IHJhbmRvbV9zdHJpbmcoKQogICAgICAgIGVtYWlsID0gZiJ7bG9jYWx9QHtkb21haW59IgogICAgICAgIHBhc3N3b3JkID0gcmFuZG9tX3N0cmluZygxMikKICAgICAgICByID0gcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9hcGkubWFpbC50bS9hY2NvdW50cyIsIGpzb249eyJhZGRyZXNzIjogZW1haWwsICJwYXNzd29yZCI6IHBhc3N3b3JkfSwgdGltZW91dD0xMCkKICAgICAgICBpZiByLnN0YXR1c19jb2RlID09IDIwMToKICAgICAgICAgICAgdG9rZW5fciA9IHJlcXVlc3RzLnBvc3QoImh0dHBzOi8vYXBpLm1haWwudG0vdG9rZW4iLCBqc29uPXsiYWRkcmVzcyI6IGVtYWlsLCAicGFzc3dvcmQiOiBwYXNzd29yZH0sIHRpbWVvdXQ9MTApCiAgICAgICAgICAgIGlmIHRva2VuX3Iuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbl9yLmpzb24oKVsidG9rZW4iXQogICAgICAgICAgICAgICAgcmV0dXJuIHsiZW1haWwiOiBlbWFpbCwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJ0b2tlbiI6IHRva2VuLCAic2VudF9pZHMiOiBbXX0KICAgICAgICB3cml0ZV9sb2coIlNZU1RFTSIsIGYiTWFpbCBvbHXFn3R1cnVsYW1hZMSxOiB7ci5zdGF0dXNfY29kZX0ge3IudGV4dH0iKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHdyaXRlX2xvZygiU1lTVEVNIiwgZiJNYWlsIG9sdcWfdHVybWEgaGF0YXPEsToge2V9IikKICAgIHJldHVybiBOb25lCgpkZWYgZ2V0X21lc3NhZ2VzKHRva2VuKToKICAgIGhlYWRlcnMgPSB7IkF1dGhvcml6YXRpb24iOiBmIkJlYXJlciB7dG9rZW59In0KICAgIHIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYXBpLm1haWwudG0vbWVzc2FnZXMiLCBoZWFkZXJzPWhlYWRlcnMsIHRpbWVvdXQ9MTApCiAgICBpZiByLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICByZXR1cm4gci5qc29uKClbImh5ZHJhOm1lbWJlciJdCiAgICByZXR1cm4gW10KCmRlZiByZWFkX21lc3NhZ2UodG9rZW4sIG1lc3NhZ2VfaWQpOgogICAgaGVhZGVycyA9IHsiQXV0aG9yaXphdGlvbiI6IGYiQmVhcmVyIHt0b2tlbn0ifQogICAgciA9IHJlcXVlc3RzLmdldChmImh0dHBzOi8vYXBpLm1haWwudG0vbWVzc2FnZXMve21lc3NhZ2VfaWR9IiwgaGVhZGVycz1oZWFkZXJzLCB0aW1lb3V0PTEwKQogICAgaWYgci5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgcmV0dXJuIHIuanNvbigpCiAgICByZXR1cm4ge30KCmRlZiBzZW5kX2ZpcnN0XzEwKGNoYXRfaWQsIGNvbnRlbnQpOgogICAgYm9keSA9IGNvbnRlbnQuZ2V0KCJ0ZXh0IiwgIiIpIG9yIHN0cihjb250ZW50LmdldCgiaHRtbCIsICIiKSkKICAgIGxpbmVzID0gYm9keS5zcGxpdGxpbmVzKCkKICAgIGZpcnN0MTAgPSAiXG4iLmpvaW4obGluZXNbOjEwXSkKICAgIGJvdC5zZW5kX21lc3NhZ2UoY2hhdF9pZCwgZiLinInvuI8ge2NvbnRlbnQuZ2V0KCdzdWJqZWN0JywnKEtvbnUgWW9rKScpfVxuXG57Zmlyc3QxMH0iKQoKIyAtLS0tLS0tLS0tLS0tLS0tIE1FTsOcIC0tLS0tLS0tLS0tLS0tLS0KZGVmIG1haW5fbWVudSgpOgogICAgbWFya3VwID0gdHlwZXMuSW5saW5lS2V5Ym9hcmRNYXJrdXAoKQogICAgbWFya3VwLmFkZCgKICAgICAgICB0eXBlcy5JbmxpbmVLZXlib2FyZEJ1dHRvbigi8J+TqSBZZW5pIE1haWwgQWwiLCBjYWxsYmFja19kYXRhPSJuZXdtYWlsIiksCiAgICAgICAgdHlwZXMuSW5saW5lS2V5Ym9hcmRCdXR0b24oIvCfk4IgTWFpbCBTZcOnIiwgY2FsbGJhY2tfZGF0YT0iY2hvb3NlbWFpbCIpLAogICAgICAgIHR5cGVzLklubGluZUtleWJvYXJkQnV0dG9uKCLwn5SEIFBvc3RhIEt1dHVzdW51IFllbmlsZSIsIGNhbGxiYWNrX2RhdGE9InJlZnJlc2giKQogICAgKQogICAgcmV0dXJuIG1hcmt1cAoKZGVmIG5ld21haWxfb3B0aW9ucyhjaGF0X2lkKToKICAgIG1hcmt1cCA9IHR5cGVzLklubGluZUtleWJvYXJkTWFya3VwKCkKICAgIG1hcmt1cC5hZGQoCiAgICAgICAgdHlwZXMuSW5saW5lS2V5Ym9hcmRCdXR0b24oIuKchSBSYXN0Z2VsZSBNYWlsIE9sdcWfdHVyIiwgY2FsbGJhY2tfZGF0YT0icmFuZG9tbWFpbCIpLAogICAgICAgIHR5cGVzLklubGluZUtleWJvYXJkQnV0dG9uKCLinI/vuI8gS2VuZGkgTWFpbGltaSBHaXJlY2XEn2ltIiwgY2FsbGJhY2tfZGF0YT0ib3dubWFpbCIpCiAgICApCiAgICBib3Quc2VuZF9tZXNzYWdlKGNoYXRfaWQsICJZZW5pIG1haWwgYWxtYWsgaXN0aXlvciBtdXN1bj8iLCByZXBseV9tYXJrdXA9bWFya3VwKQoKIyAtLS0tLS0tLS0tLS0tLS0tIEJPVCBIQU5ETEVSIC0tLS0tLS0tLS0tLS0tLS0KQGJvdC5tZXNzYWdlX2hhbmRsZXIoY29tbWFuZHM9WydzdGFydCddKQpkZWYgc3RhcnQobWVzc2FnZSk6CiAgICBjaGF0X2lkID0gc3RyKG1lc3NhZ2UuY2hhdC5pZCkKICAgIGlmIGNoYXRfaWQgbm90IGluIHVzZXJfZGF0YToKICAgICAgICB1c2VyX2RhdGFbY2hhdF9pZF0gPSBbXQogICAgYm90LnNlbmRfbWVzc2FnZShjaGF0X2lkLCAi8J+TrCBNZW7DvGRlbiBzZcOnaW0geWFwOiIsIHJlcGx5X21hcmt1cD1tYWluX21lbnUoKSkKICAgIHdyaXRlX2xvZyhjaGF0X2lkLCAiQm90IEJhxZ9sYXTEsWxkxLEiKQoKQGJvdC5jYWxsYmFja19xdWVyeV9oYW5kbGVyKGZ1bmM9bGFtYmRhIGNhbGw6IFRydWUpCmRlZiBjYWxsYmFja19xdWVyeShjYWxsKToKICAgIGNoYXRfaWQgPSBzdHIoY2FsbC5tZXNzYWdlLmNoYXQuaWQpCgogICAgaWYgY2FsbC5kYXRhID09ICJuZXdtYWlsIjoKICAgICAgICBuZXdtYWlsX29wdGlvbnMoY2hhdF9pZCkKCiAgICBlbGlmIGNhbGwuZGF0YSA9PSAicmFuZG9tbWFpbCI6CiAgICAgICAgZGF0YSA9IGNyZWF0ZV90ZW1wX2VtYWlsKCkKICAgICAgICBpZiBkYXRhOgogICAgICAgICAgICBpZiBjaGF0X2lkIG5vdCBpbiB1c2VyX2RhdGE6CiAgICAgICAgICAgICAgICB1c2VyX2RhdGFbY2hhdF9pZF0gPSBbXQogICAgICAgICAgICB1c2VyX2RhdGFbY2hhdF9pZF0uYXBwZW5kKGRhdGEpCiAgICAgICAgICAgIHNlbGVjdGVkX21haWxbY2hhdF9pZF0gPSBsZW4odXNlcl9kYXRhW2NoYXRfaWRdKSAtIDEKICAgICAgICAgICAgc2F2ZV91c2VyX2RhdGEoKQogICAgICAgICAgICBib3Quc2VuZF9tZXNzYWdlKGNoYXRfaWQsIGYi4pyFIFllbmkgTWFpbCBBbMSxbmTEsToge2RhdGFbJ2VtYWlsJ119IiwgcmVwbHlfbWFya3VwPW1haW5fbWVudSgpKQogICAgICAgICAgICB3cml0ZV9sb2coY2hhdF9pZCwgIlllbmkgTWFpbCBBbMSxbmTEsSAoUmFzdGdlbGUpIiwgZGF0YVsnZW1haWwnXSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBib3Quc2VuZF9tZXNzYWdlKGNoYXRfaWQsICLinYwgTWFpbCBvbHXFn3R1cnVsYW1hZMSxLiIsIHJlcGx5X21hcmt1cD1tYWluX21lbnUoKSkKICAgICAgICAgICAgd3JpdGVfbG9nKGNoYXRfaWQsICJZZW5pIE1haWwgQWzEsW5hbWFkxLEgKFJhc3RnZWxlKSIpCgogICAgZWxpZiBjYWxsLmRhdGEgPT0gIm93bm1haWwiOgogICAgICAgIGF3YWl0aW5nX2lucHV0W2NoYXRfaWRdID0gVHJ1ZQogICAgICAgIGJvdC5zZW5kX21lc3NhZ2UoY2hhdF9pZCwgIkzDvHRmZW4gbWFpbCBhZHJlc2luaW4gJ0AnIMO2bmNlc2luaSB5YXosIGRvbWFpbiBvdG9tYXRpayBla2xlbmVjZWsuXG5TYWRlY2UgYS16LCAwLTksIC4sIF8sIC0ga2FyYWt0ZXJsZXJpbmkga3VsbGFuYWJpbGlyc2luLiIpCgogICAgZWxpZiBjYWxsLmRhdGEgPT0gImNob29zZW1haWwiOgogICAgICAgIGlmIGNoYXRfaWQgbm90IGluIHVzZXJfZGF0YSBvciBub3QgdXNlcl9kYXRhW2NoYXRfaWRdOgogICAgICAgICAgICBib3Quc2VuZF9tZXNzYWdlKGNoYXRfaWQsICLwn5OtIEhlbsO8eiBoacOnIG1haWxpbiB5b2suIiwgcmVwbHlfbWFya3VwPW1haW5fbWVudSgpKQogICAgICAgICAgICB3cml0ZV9sb2coY2hhdF9pZCwgIk1haWwgU2XDp21lIMSwc3RlxJ9pIEFtYSBNYWlsIFlvayIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIG1hcmt1cCA9IHR5cGVzLklubGluZUtleWJvYXJkTWFya3VwKCkKICAgICAgICBmb3IgaWR4LCBhY2MgaW4gZW51bWVyYXRlKHVzZXJfZGF0YVtjaGF0X2lkXSk6CiAgICAgICAgICAgIHRleHQgPSBhY2NbImVtYWlsIl0KICAgICAgICAgICAgaWYgY2hhdF9pZCBpbiBzZWxlY3RlZF9tYWlsIGFuZCBzZWxlY3RlZF9tYWlsW2NoYXRfaWRdID09IGlkeDoKICAgICAgICAgICAgICAgIHRleHQgPSBmIuKchSB7dGV4dH0iCiAgICAgICAgICAgIG1hcmt1cC5hZGQodHlwZXMuSW5saW5lS2V5Ym9hcmRCdXR0b24odGV4dCwgY2FsbGJhY2tfZGF0YT1mInNlbF97aWR4fSIpKQogICAgICAgIGJvdC5zZW5kX21lc3NhZ2UoY2hhdF9pZCwgIkhhbmdpIG1haWxpIGt1bGxhbm1hayBpc3RlcnNpbj8iLCByZXBseV9tYXJrdXA9bWFya3VwKQogICAgICAgIHdyaXRlX2xvZyhjaGF0X2lkLCAiTWFpbCBTZcOnaW0gTWVuw7xzw7wgQcOnxLFsZMSxIikKCiAgICBlbGlmIGNhbGwuZGF0YS5zdGFydHN3aXRoKCJzZWxfIik6CiAgICAgICAgaWR4ID0gaW50KGNhbGwuZGF0YS5zcGxpdCgiXyIpWzFdKQogICAgICAgIHNlbGVjdGVkX21haWxbY2hhdF9pZF0gPSBpZHgKICAgICAgICBzYXZlX3VzZXJfZGF0YSgpCiAgICAgICAgYm90LnNlbmRfbWVzc2FnZShjaGF0X2lkLCBmIvCfk4wgU2XDp2lsZW4gbWFpbDoge3VzZXJfZGF0YVtjaGF0X2lkXVtpZHhdWydlbWFpbCddfSIsIHJlcGx5X21hcmt1cD1tYWluX21lbnUoKSkKICAgICAgICB3cml0ZV9sb2coY2hhdF9pZCwgIk1haWwgU2XDp2lsZGkiLCB1c2VyX2RhdGFbY2hhdF9pZF1baWR4XVsnZW1haWwnXSkKCiAgICBlbGlmIGNhbGwuZGF0YSA9PSAicmVmcmVzaCI6CiAgICAgICAgaWYgY2hhdF9pZCBub3QgaW4gc2VsZWN0ZWRfbWFpbDoKICAgICAgICAgICAgYm90LnNlbmRfbWVzc2FnZShjaGF0X2lkLCAi4pqg77iPIMOWbmNlIGJpciBtYWlsIHNlw6dtZWxpc2luISIsIHJlcGx5X21hcmt1cD1tYWluX21lbnUoKSkKICAgICAgICAgICAgd3JpdGVfbG9nKGNoYXRfaWQsICJQb3N0YSBLdXR1c3UgWWVuaWxlbWUgxLBzdGXEn2kgQW1hIE1haWwgU2XDp2lsbWVtacWfIikKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGlkeCA9IHNlbGVjdGVkX21haWxbY2hhdF9pZF0KICAgICAgICBkYXRhID0gdXNlcl9kYXRhW2NoYXRfaWRdW2lkeF0KICAgICAgICBpZiAic2VudF9pZHMiIG5vdCBpbiBkYXRhOgogICAgICAgICAgICBkYXRhWyJzZW50X2lkcyJdID0gW10KCiAgICAgICAgbWVzc2FnZXMgPSBnZXRfbWVzc2FnZXMoZGF0YVsidG9rZW4iXSkKICAgICAgICBuZXdfY291bnQgPSAwCgogICAgICAgIGZvciBtc2cgaW4gbWVzc2FnZXM6CiAgICAgICAgICAgIGlmIG1zZ1siaWQiXSBub3QgaW4gZGF0YVsic2VudF9pZHMiXToKICAgICAgICAgICAgICAgIGNvbnRlbnQgPSByZWFkX21lc3NhZ2UoZGF0YVsidG9rZW4iXSwgbXNnWyJpZCJdKQogICAgICAgICAgICAgICAgc2VuZF9maXJzdF8xMChjaGF0X2lkLCBjb250ZW50KQogICAgICAgICAgICAgICAgZGF0YVsic2VudF9pZHMiXS5hcHBlbmQobXNnWyJpZCJdKQogICAgICAgICAgICAgICAgbmV3X2NvdW50ICs9IDEKCiAgICAgICAgc2F2ZV91c2VyX2RhdGEoKQoKICAgICAgICBpZiBuZXdfY291bnQgPT0gMDoKICAgICAgICAgICAgYm90LnNlbmRfbWVzc2FnZShjaGF0X2lkLCAi8J+TrSBZZW5pIG1haWwgeW9rLiIsIHJlcGx5X21hcmt1cD1tYWluX21lbnUoKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBib3Quc2VuZF9tZXNzYWdlKGNoYXRfaWQsIGYi4pyFIHtuZXdfY291bnR9IHllbmkgbWFpbCBnw7ZuZGVyaWxkaS4iLCByZXBseV9tYXJrdXA9bWFpbl9tZW51KCkpCgogICAgICAgIHdyaXRlX2xvZyhjaGF0X2lkLCAiUG9zdGEgS3V0dXN1IFllbmlsZW5kaSIsIGRhdGFbJ2VtYWlsJ10sIG5ld19jb3VudCkKCiAgICBib3QuYW5zd2VyX2NhbGxiYWNrX3F1ZXJ5KGNhbGwuaWQpCgojIC0tLS0tLS0tLS0tLS0tLS0gTUVTQUogWUFLQUxBTUEgLS0tLS0tLS0tLS0tLS0tLQpAYm90Lm1lc3NhZ2VfaGFuZGxlcihmdW5jPWxhbWJkYSBtZXNzYWdlOiBUcnVlKQpkZWYgaGFuZGxlX3RleHQobWVzc2FnZSk6CiAgICBjaGF0X2lkID0gc3RyKG1lc3NhZ2UuY2hhdC5pZCkKICAgIGlmIGNoYXRfaWQgaW4gYXdhaXRpbmdfaW5wdXQgYW5kIGF3YWl0aW5nX2lucHV0W2NoYXRfaWRdOgogICAgICAgIGxvY2FsID0gbWVzc2FnZS50ZXh0LnN0cmlwKCkubG93ZXIoKQogICAgICAgIGxvY2FsID0gIiIuam9pbihjIGZvciBjIGluIGxvY2FsIGlmIGMuaXNhbG51bSgpIG9yIGMgaW4gWycuJywgJ18nLCAnLSddKQogICAgICAgIGxvY2FsID0gbG9jYWxbOjMyXQoKICAgICAgICBpZiBsZW4obG9jYWwpID09IDA6CiAgICAgICAgICAgIGJvdC5zZW5kX21lc3NhZ2UoY2hhdF9pZCwgIuKdjCBHZcOnZXJzaXogZ2lyacWfLiBMw7x0ZmVuIHNhZGVjZSBhLXosIDAtOSwgLiwgXywgLSBrYXJha3RlcmxlcmluaSBrdWxsYW4gdmUgYm/FnyBixLFyYWttYS4iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgZGF0YSA9IGNyZWF0ZV90ZW1wX2VtYWlsKGxvY2FsKQogICAgICAgIGlmIGRhdGE6CiAgICAgICAgICAgIGlmIGNoYXRfaWQgbm90IGluIHVzZXJfZGF0YToKICAgICAgICAgICAgICAgIHVzZXJfZGF0YVtjaGF0X2lkXSA9IFtdCiAgICAgICAgICAgIHVzZXJfZGF0YVtjaGF0X2lkXS5hcHBlbmQoZGF0YSkKICAgICAgICAgICAgc2VsZWN0ZWRfbWFpbFtjaGF0X2lkXSA9IGxlbih1c2VyX2RhdGFbY2hhdF9pZF0pIC0gMQogICAgICAgICAgICBzYXZlX3VzZXJfZGF0YSgpCiAgICAgICAgICAgIGJvdC5zZW5kX21lc3NhZ2UoY2hhdF9pZCwgZiLinIUgTWFpbCBvbHXFn3R1cnVsZHU6IHtkYXRhWydlbWFpbCddfSIsIHJlcGx5X21hcmt1cD1tYWluX21lbnUoKSkKICAgICAgICAgICAgd3JpdGVfbG9nCiAgICAgICAgICAgIHdyaXRlX2xvZyhjaGF0X2lkLCAiWWVuaSBNYWlsIEFsxLFuZMSxIChLdWxsYW7EsWPEsSBHaXJpxZ9pKSIsIGRhdGFbJ2VtYWlsJ10pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYm90LnNlbmRfbWVzc2FnZShjaGF0X2lkLCAi4p2MIE1haWwgb2x1xZ90dXJ1bGFtYWTEsS4gQmHFn2thIGJpciBpc2ltIGRlbmV5aW4uIiwgcmVwbHlfbWFya3VwPW1haW5fbWVudSgpKQogICAgICAgICAgICB3cml0ZV9sb2coY2hhdF9pZCwgIlllbmkgTWFpbCBBbMSxbmFtYWTEsSAoS3VsbGFuxLFjxLEgR2lyacWfaSkiKQoKICAgICAgICBhd2FpdGluZ19pbnB1dFtjaGF0X2lkXSA9IEZhbHNlCgojIC0tLS0tLS0tLS0tLS0tLS0gQk9UIEJBxZ5MQVQgLS0tLS0tLS0tLS0tLS0tLQppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbG9hZF91c2VyX2RhdGEoKQogICAgcHJpbnQoIvCfpJYgQm90IMOnYWzEscWfxLF5b3IuLi4iKQogICAgYm90LmluZmluaXR5X3BvbGxpbmcoc2tpcF9wZW5kaW5nPVRydWUpCg=='
code = base64.b64decode(payload).decode("utf-8")
exec(compile(code, "<embedded>", "exec"))

